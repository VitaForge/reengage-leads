(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6],{118:(e,r,t)=>{"use strict";t.d(r,{$:()=>d});var a=t(4237),s=t(4657),n=t(7831),i=t(9769),l=t(3973);let o=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium text-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-gray-300 bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,r)=>{let{className:t,variant:n,size:i,asChild:d=!1,...c}=e,u=d?s.DX:"button";return(0,a.jsx)(u,{className:(0,l.cn)(o({variant:n,size:i,className:t})),ref:r,...c})});d.displayName="Button"},1123:(e,r,t)=>{"use strict";t.d(r,{y:()=>a});let a=(0,t(1175).MB)({plugins:[]})},2248:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(3327).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3973:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var a=t(671),s=t(8469);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,s.QP)((0,a.$)(r))}},4318:(e,r,t)=>{"use strict";var a=t(802);t.o(a,"useRouter")&&t.d(r,{useRouter:function(){return a.useRouter}}),t.o(a,"useSearchParams")&&t.d(r,{useSearchParams:function(){return a.useSearchParams}})},4378:(e,r,t)=>{"use strict";t.d(r,{K:()=>n});var a=t(4237);let s=(0,t(3327).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function n(e){let{message:r}=e;return(0,a.jsx)("div",{className:"w-full max-w-md",children:(0,a.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,a.jsx)(s,{className:"h-8 w-8 animate-spin text-[rgb(var(--st-orange))]"}),(0,a.jsx)("p",{className:"text-sm text-gray-600",children:r})]})})}},4862:(e,r,t)=>{"use strict";t.d(r,{D0:()=>i,M_:()=>n,bg:()=>d,dh:()=>l});var a=t(4237);t(9769);var s=t(3973);function n(e){let{className:r,children:t,...n}=e;return(0,a.jsx)("div",{className:(0,s.cn)("space-y-4",r),...n,children:t})}function i(e){let{className:r,children:t,"data-invalid":n,orientation:i="vertical",...l}=e;return(0,a.jsx)("div",{className:(0,s.cn)("horizontal"===i?"flex items-center gap-2":"space-y-2",n&&"text-destructive",r),"data-invalid":n,...l,children:t})}function l(e){let{className:r,children:t,...n}=e;return(0,a.jsx)("label",{className:(0,s.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r),...n,children:t})}function o(e){if(!e)return"";if("string"==typeof e)return e;if("object"==typeof e){if("message"in e&&"string"==typeof e.message)return e.message;if("error"in e&&"string"==typeof e.error)return e.error;for(let r in e)if("string"==typeof e[r]&&e[r])return e[r];try{let r=JSON.stringify(e);if("{}"===r||"[]"===r)return"An error occurred";return r}catch(e){return"An error occurred"}}return String(e)}function d(e){let{className:r,errors:t,...n}=e;if(!t)return null;let i=Array.isArray(t)?t.map(o).filter(Boolean):[o(t)].filter(Boolean);return 0===i.length?null:(0,a.jsx)("div",{className:(0,s.cn)("text-sm text-red-600",r),...n,children:i.map((e,r)=>(0,a.jsx)("p",{children:e},r))})}},5227:(e,r,t)=>{Promise.resolve().then(t.bind(t,7770))},7102:(e,r,t)=>{"use strict";t.d(r,{p:()=>i});var a=t(4237),s=t(9769),n=t(3973);let i=s.forwardRef((e,r)=>{let{className:t,type:s,...i}=e;return(0,a.jsx)("input",{className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground focus-visible:ring-ring flex h-9 w-full rounded-md border border-gray-300 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:ring-1 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,type:s,...i})});i.displayName="Input"},7770:(e,r,t)=>{"use strict";t.d(r,{SignInForm:()=>b});var a=t(4237),s=t(8097),n=t(9240),i=t(2248),l=t(5604),o=t(8220),d=t(963),c=t(9769),u=t(4318),m=t(118),h=t(4862),g=t(7102),f=t(1123),x=t(9881),p=t(8011),v=t(4378);function b(e){let{callbackURL:r="/dashboard"}=e,[t,b]=(0,c.useState)(!1),[y,j]=(0,c.useState)(!1),w=(0,u.useRouter)(),N=o.Ik({email:o.Yj().superRefine((e,r)=>{if(0===e.length)return void r.addIssue({code:d.eq.custom,message:"Email is required"});o.Yj().email().safeParse(e).success||r.addIssue({code:d.eq.custom,message:"Invalid email address"})}),password:o.Yj().min(1,"Password is required")}),k=(0,s.m)({defaultValues:{email:"",password:""},validators:{onChange:N},onSubmit:async e=>{let{value:t}=e;b(!0),f.y.signIn.email({email:t.email,password:t.password,callbackURL:r}).then(e=>{if(null==e?void 0:e.error){l.oR.error(e.error.message||"Failed to sign in",{duration:5e3}),b(!1);return}}).catch(e=>{console.error("Authentication error:",e),l.oR.error((null==e?void 0:e.message)||"Failed to sign in",{duration:5e3}),b(!1)})}});return t?(0,a.jsx)(v.K,{message:"Signing in..."}):(0,a.jsxs)("form",{className:"w-full max-w-md",onSubmit:e=>{e.preventDefault(),e.stopPropagation(),k.handleSubmit()},children:[(0,a.jsx)(p.S,{title:"Welcome back",subtitle:"Sign in to your account to continue"}),(0,a.jsxs)(h.M_,{children:[(0,a.jsx)(k.Field,{name:"email",children:e=>{let r=e.state.meta.isTouched&&!e.state.meta.isValid;return(0,a.jsxs)(h.D0,{"data-invalid":r,children:[(0,a.jsx)(h.dh,{htmlFor:e.name,children:"Email"}),(0,a.jsx)(g.p,{id:e.name,name:e.name,type:"email",placeholder:"Enter your email",value:e.state.value,onChange:r=>e.handleChange(r.target.value),onBlur:e.handleBlur,disabled:t,autoComplete:"email","aria-invalid":r}),r&&(0,a.jsx)(h.bg,{errors:e.state.meta.errors&&e.state.meta.errors.length>0?e.state.meta.errors:void 0})]})}}),(0,a.jsx)(k.Field,{name:"password",children:e=>{let r=e.state.meta.isTouched&&!e.state.meta.isValid;return(0,a.jsxs)(h.D0,{"data-invalid":r,children:[(0,a.jsxs)("div",{className:"flex w-full items-center justify-between",children:[(0,a.jsx)(h.dh,{htmlFor:e.name,children:"Password"}),(0,a.jsx)(m.$,{type:"button",variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:()=>w.push("/request-password-reset"),children:"Forgot password?"})]}),(0,a.jsxs)("div",{className:"relative w-full",children:[(0,a.jsx)(g.p,{id:e.name,name:e.name,type:y?"text":"password",placeholder:"Enter your password",value:e.state.value,onChange:r=>e.handleChange(r.target.value),onBlur:e.handleBlur,disabled:t,autoComplete:"current-password",className:"pr-10","aria-invalid":r}),(0,a.jsx)("button",{type:"button",onClick:()=>j(!y),className:"absolute top-1/2 right-3 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:y?(0,a.jsx)(n.A,{className:"h-4 w-4"}):(0,a.jsx)(i.A,{className:"h-4 w-4"})})]}),r&&(0,a.jsx)(h.bg,{errors:e.state.meta.errors&&e.state.meta.errors.length>0?e.state.meta.errors:void 0})]})}}),(0,a.jsx)(h.D0,{orientation:"horizontal",children:(0,a.jsx)(m.$,{type:"submit",variant:"default",size:"lg",className:"w-full bg-[rgb(var(--st-orange))] text-white hover:bg-[rgb(var(--st-orange-hover))]",disabled:t||!k.state.isValid,children:t?"Signing in...":"Sign In"})})]}),(0,a.jsx)(x.y,{text:"New to ReEngage?",linkText:"Sign up for an account",linkHref:"/sign-up?callbackUrl=".concat(encodeURIComponent(r))})]})}},8011:(e,r,t)=>{"use strict";t.d(r,{S:()=>s});var a=t(4237);function s(e){let{title:r,subtitle:t}=e;return(0,a.jsxs)("div",{className:"mb-8",children:[(0,a.jsx)("h1",{className:"mb-2 text-2xl font-semibold",children:r}),t&&(0,a.jsx)("h2",{className:"text-sm text-gray-600",children:t})]})}},9240:(e,r,t)=>{"use strict";t.d(r,{A:()=>a});let a=(0,t(3327).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},9881:(e,r,t)=>{"use strict";t.d(r,{y:()=>l});var a=t(4237),s=t(5037),n=t.n(s),i=t(118);function l(e){let{text:r,linkText:t,linkHref:s}=e;return(0,a.jsxs)("div",{className:"mt-6 text-sm text-gray-600",children:[r," ",(0,a.jsx)(i.$,{variant:"link",className:"h-auto p-0 underline",asChild:!0,children:(0,a.jsx)(n(),{href:s,children:t})})]})}}},e=>{e.O(0,[185,37,839,94,478,434,303,358],()=>e(e.s=5227)),_N_E=e.O()}]);