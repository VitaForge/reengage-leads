(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[180],{118:(e,r,t)=>{"use strict";t.d(r,{$:()=>d});var s=t(4237),a=t(4657),n=t(7831),i=t(9769),o=t(3973);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md font-medium text-sm transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-gray-300 bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=i.forwardRef((e,r)=>{let{className:t,variant:n,size:i,asChild:d=!1,...c}=e,u=d?a.DX:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:n,size:i,className:t})),ref:r,...c})});d.displayName="Button"},1123:(e,r,t)=>{"use strict";t.d(r,{y:()=>s});let s=(0,t(1175).MB)({plugins:[]})},2248:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(3327).A)("eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},3973:(e,r,t)=>{"use strict";t.d(r,{cn:()=>n});var s=t(671),a=t(8469);function n(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.QP)((0,s.$)(r))}},4318:(e,r,t)=>{"use strict";var s=t(802);t.o(s,"useRouter")&&t.d(r,{useRouter:function(){return s.useRouter}}),t.o(s,"useSearchParams")&&t.d(r,{useSearchParams:function(){return s.useSearchParams}})},4378:(e,r,t)=>{"use strict";t.d(r,{K:()=>n});var s=t(4237);let a=(0,t(3327).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);function n(e){let{message:r}=e;return(0,s.jsx)("div",{className:"w-full max-w-md",children:(0,s.jsxs)("div",{className:"flex flex-col items-center gap-4",children:[(0,s.jsx)(a,{className:"h-8 w-8 animate-spin text-[rgb(var(--st-orange))]"}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:r})]})})}},4862:(e,r,t)=>{"use strict";t.d(r,{D0:()=>i,M_:()=>n,bg:()=>d,dh:()=>o});var s=t(4237);t(9769);var a=t(3973);function n(e){let{className:r,children:t,...n}=e;return(0,s.jsx)("div",{className:(0,a.cn)("space-y-4",r),...n,children:t})}function i(e){let{className:r,children:t,"data-invalid":n,orientation:i="vertical",...o}=e;return(0,s.jsx)("div",{className:(0,a.cn)("horizontal"===i?"flex items-center gap-2":"space-y-2",n&&"text-destructive",r),"data-invalid":n,...o,children:t})}function o(e){let{className:r,children:t,...n}=e;return(0,s.jsx)("label",{className:(0,a.cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",r),...n,children:t})}function l(e){if(!e)return"";if("string"==typeof e)return e;if("object"==typeof e){if("message"in e&&"string"==typeof e.message)return e.message;if("error"in e&&"string"==typeof e.error)return e.error;for(let r in e)if("string"==typeof e[r]&&e[r])return e[r];try{let r=JSON.stringify(e);if("{}"===r||"[]"===r)return"An error occurred";return r}catch(e){return"An error occurred"}}return String(e)}function d(e){let{className:r,errors:t,...n}=e;if(!t)return null;let i=Array.isArray(t)?t.map(l).filter(Boolean):[l(t)].filter(Boolean);return 0===i.length?null:(0,s.jsx)("div",{className:(0,a.cn)("text-sm text-red-600",r),...n,children:i.map((e,r)=>(0,s.jsx)("p",{children:e},r))})}},5869:(e,r,t)=>{"use strict";t.d(r,{$:()=>d});var s=t(4237),a=t(8537);let n=(0,t(3327).A)("mail",[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]]);var i=t(5037),o=t.n(i),l=t(118);function d(e){let{icon:r="mail",title:t,description:i,buttonText:d,buttonHref:c,email:u}=e,m="check"===r?a.A:n;return(0,s.jsxs)("div",{className:"w-full max-w-md",children:[(0,s.jsxs)("div",{className:"mb-8 text-center",children:[(0,s.jsx)("div",{className:"".concat("check"===r?"bg-green-500/10":"bg-[rgb(var(--st-orange))]/10"," mb-4 inline-flex h-16 w-16 items-center justify-center rounded-full"),children:(0,s.jsx)(m,{className:"".concat("check"===r?"text-green-500":"text-[rgb(var(--st-orange))]"," h-8 w-8")})}),(0,s.jsx)("h1",{className:"mb-2 text-2xl font-semibold",children:t}),(0,s.jsx)("p",{className:"text-sm text-gray-600",children:i}),u&&(0,s.jsx)("p",{className:"mt-2 text-sm font-medium text-gray-600",children:u})]}),d&&c&&(0,s.jsx)("div",{className:"mt-6 text-center",children:(0,s.jsx)(l.$,{variant:"check"===r?"default":"link",className:"check"===r?"bg-[rgb(var(--st-orange))] text-white hover:bg-[rgb(var(--st-orange-hover))]":"h-auto p-0",asChild:!0,children:(0,s.jsx)(o(),{href:c,children:d})})})]})}},7102:(e,r,t)=>{"use strict";t.d(r,{p:()=>i});var s=t(4237),a=t(9769),n=t(3973);let i=a.forwardRef((e,r)=>{let{className:t,type:a,...i}=e;return(0,s.jsx)("input",{className:(0,n.cn)("file:text-foreground placeholder:text-muted-foreground focus-visible:ring-ring flex h-9 w-full rounded-md border border-gray-300 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium focus-visible:ring-1 focus-visible:outline-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,type:a,...i})});i.displayName="Input"},8011:(e,r,t)=>{"use strict";t.d(r,{S:()=>a});var s=t(4237);function a(e){let{title:r,subtitle:t}=e;return(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h1",{className:"mb-2 text-2xl font-semibold",children:r}),t&&(0,s.jsx)("h2",{className:"text-sm text-gray-600",children:t})]})}},8042:(e,r,t)=>{"use strict";t.d(r,{ResetPasswordForm:()=>b});var s=t(4237),a=t(8097),n=t(9240),i=t(2248),o=t(5604),l=t(8220),d=t(9769),c=t(4318),u=t(118),m=t(4862),h=t(7102),x=t(1123),f=t(9881),g=t(8011),p=t(4378),v=t(5869);function b(e){let{token:r}=e,[t,b]=(0,d.useState)(!1),[w,y]=(0,d.useState)(!1),[j,N]=(0,d.useState)(!1),[k,P]=(0,d.useState)(!1),A=(0,c.useSearchParams)(),S=(0,c.useRouter)();(0,d.useEffect)(()=>{if("INVALID_TOKEN"===A.get("error")){o.oR.error("Invalid or expired reset token"),S.push("/request-password-reset");return}},[A,S]);let C=l.Ik({password:l.Yj().min(8,"Password must be at least 8 characters"),confirmPassword:l.Yj().min(8,"Please confirm your password")}).refine(e=>e.password===e.confirmPassword,{message:"Passwords do not match",path:["confirmPassword"]}),R=(0,a.m)({defaultValues:{password:"",confirmPassword:""},validators:{onChange:C},onSubmit:async e=>{let{value:t}=e;b(!0),x.y.resetPassword({newPassword:t.password,token:r}).then(e=>{if(null==e?void 0:e.error)return void o.oR.error(e.error.message||"Failed to reset password",{duration:5e3});P(!0)}).catch(e=>{console.error("Password reset error:",e),o.oR.error((null==e?void 0:e.message)||"Failed to reset password",{duration:5e3})}).finally(()=>{b(!1)})}});return t?(0,s.jsx)(p.K,{message:"Resetting password..."}):k?(0,s.jsx)(v.$,{icon:"check",title:"Password reset successful",description:"Your password has been successfully reset. You can now sign in with your new password.",buttonText:"Back to Sign In",buttonHref:"/sign-in"}):(0,s.jsxs)("form",{className:"w-full max-w-md",onSubmit:e=>{e.preventDefault(),e.stopPropagation(),R.handleSubmit()},children:[(0,s.jsx)(g.S,{title:"Reset your password",subtitle:"Enter your new password below"}),(0,s.jsxs)(m.M_,{children:[(0,s.jsx)(R.Field,{name:"password",children:e=>{let r=e.state.meta.isTouched&&!e.state.meta.isValid;return(0,s.jsxs)(m.D0,{"data-invalid":r,children:[(0,s.jsx)(m.dh,{htmlFor:e.name,children:"New Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.p,{id:e.name,name:e.name,type:w?"text":"password",placeholder:"Enter your new password",value:e.state.value,onChange:r=>e.handleChange(r.target.value),onBlur:e.handleBlur,disabled:t,autoComplete:"new-password",className:"pr-10","aria-invalid":r}),(0,s.jsx)("button",{type:"button",onClick:()=>y(!w),className:"absolute top-1/2 right-3 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:w?(0,s.jsx)(n.A,{className:"h-4 w-4"}):(0,s.jsx)(i.A,{className:"h-4 w-4"})})]}),r&&(0,s.jsx)(m.bg,{errors:e.state.meta.errors&&e.state.meta.errors.length>0?e.state.meta.errors:void 0})]})}}),(0,s.jsx)(R.Field,{name:"confirmPassword",children:e=>{let r=e.state.meta.isTouched&&!e.state.meta.isValid;return(0,s.jsxs)(m.D0,{"data-invalid":r,children:[(0,s.jsx)(m.dh,{htmlFor:e.name,children:"Confirm Password"}),(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)(h.p,{id:e.name,name:e.name,type:j?"text":"password",placeholder:"Confirm your new password",value:e.state.value,onChange:r=>e.handleChange(r.target.value),onBlur:e.handleBlur,disabled:t,autoComplete:"new-password",className:"pr-10","aria-invalid":r}),(0,s.jsx)("button",{type:"button",onClick:()=>N(!j),className:"absolute top-1/2 right-3 -translate-y-1/2 text-gray-500 hover:text-gray-700",children:j?(0,s.jsx)(n.A,{className:"h-4 w-4"}):(0,s.jsx)(i.A,{className:"h-4 w-4"})})]}),r&&(0,s.jsx)(m.bg,{errors:e.state.meta.errors&&e.state.meta.errors.length>0?e.state.meta.errors:void 0})]})}}),(0,s.jsx)(m.D0,{orientation:"horizontal",children:(0,s.jsx)(u.$,{type:"submit",variant:"default",size:"lg",className:"w-full bg-[rgb(var(--st-orange))] text-white hover:bg-[rgb(var(--st-orange-hover))]",disabled:t||!R.state.isValid,children:t?"Resetting...":"Reset Password"})})]}),(0,s.jsx)(f.y,{text:"Remember your password?",linkText:"Back to Sign In",linkHref:"/sign-in"})]})}},8131:(e,r,t)=>{Promise.resolve().then(t.bind(t,8042))},8537:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(3327).A)("check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]])},9240:(e,r,t)=>{"use strict";t.d(r,{A:()=>s});let s=(0,t(3327).A)("eye-off",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},9881:(e,r,t)=>{"use strict";t.d(r,{y:()=>o});var s=t(4237),a=t(5037),n=t.n(a),i=t(118);function o(e){let{text:r,linkText:t,linkHref:a}=e;return(0,s.jsxs)("div",{className:"mt-6 text-sm text-gray-600",children:[r," ",(0,s.jsx)(i.$,{variant:"link",className:"h-auto p-0 underline",asChild:!0,children:(0,s.jsx)(n(),{href:a,children:t})})]})}}},e=>{e.O(0,[185,37,839,94,478,434,303,358],()=>e(e.s=8131)),_N_E=e.O()}]);